<!-- <div class="max-w-sm mx-auto bg-white p-6 rounded-2xl shadow-md">
  <div class="flex justify-between border border-gray-300 rounded-full p-1 mb-4">
    <button class="flex-1 py-2 text-sm font-medium rounded-full focus:outline-none bg-green-500 text-white" data-plan="once">Give once</button>
    <button class="flex-1 py-2 text-sm font-medium rounded-full text-gray-600 hover:bg-gray-100" data-plan="monthly">Monthly</button>
    <button class="flex-1 py-2 text-sm font-medium rounded-full text-gray-600 hover:bg-gray-100" data-plan="annually">Annually</button>
  </div>

  <p class="text-sm font-semibold mb-2">Choose an amount to give</p>
  <div class="grid grid-cols-3 gap-2 mb-4">
    <button class="amount-btn px-3 py-2 bg-green-100 text-green-700 font-semibold rounded-lg" data-amount="25">$25</button>
    <button class="amount-btn px-3 py-2 bg-gray-100 text-gray-700 font-semibold rounded-lg" data-amount="50">$50</button>
    <button class="amount-btn px-3 py-2 bg-gray-100 text-gray-700 font-semibold rounded-lg" data-amount="100">$100</button>
    <button class="amount-btn px-3 py-2 bg-gray-100 text-gray-700 font-semibold rounded-lg" data-amount="200">$200</button>
    <button class="amount-btn px-3 py-2 bg-gray-100 text-gray-700 font-semibold rounded-lg" data-amount="300">$300</button>
  </div>

  <div class="mb-4">
    <label class="block text-sm mb-1">Other amount</label>
    <input type="number" name="customAmount" placeholder="$" class="w-full border border-gray-300 rounded-md px-3 py-2" />
  </div>

  <button class="w-full bg-green-500 text-white font-semibold py-2 rounded-lg hover:bg-green-600">Donate</button>

  <p class="text-xs text-center mt-3 text-gray-500">100% of your donation goes directly to supporting families.</p>
</div>

<script>
  const amountButtons = document.querySelectorAll(".amount-btn");
  const customInput = document.querySelector("[name='customAmount']");
  const planButtons = document.querySelectorAll("[data-plan]");

  // Toggle active state for amount buttons
  amountButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      amountButtons.forEach(b => b.classList.remove("bg-green-100", "text-green-700"));
      btn.classList.add("bg-green-100", "text-green-700");
      customInput.value = ""; // clear custom input if preset selected
    });
  });

  // Toggle active state for plan buttons
  planButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      planButtons.forEach(b => {
        b.classList.remove("bg-green-500", "text-white");
        b.classList.add("text-gray-600");
      });
      btn.classList.add("bg-green-500", "text-white");
    });
  });
</script> -->

<form id="paymentForm" onsubmit="handlePayment(event)">
  <input type="text" id="cardNumber" placeholder="Card Number" required />
  <input type="text" id="expMonth" placeholder="MM" required />
  <input type="text" id="expYear" placeholder="YY" required />
  <input type="text" id="cvv" placeholder="CVV" required />
  <input type="text" id="amount" placeholder="Amount" required />
  <button type="submit">Pay Now</button>
</form>
<script type="text/javascript" src="https://js.authorize.net/v3/AcceptUI.js"></script>
<script type="text/javascript" src="https://jstest.authorize.net/v1/Accept.js" charset="utf-8"></script>

<script>
  // Replace with your Authorize.Net credentials
  const authData = {
    clientKey: "2upGa28k2Zz54wPD",
    apiLoginID: "6VyWt8E2nh"
  };

  function handlePayment(e) {
    e.preventDefault();

    const cardData = {
      cardNumber: document.getElementById("cardNumber").value,
      month: document.getElementById("expMonth").value,
      year: document.getElementById("expYear").value,
      cardCode: document.getElementById("cvv").value
    };

    Accept.dispatchData({ authData, cardData }, handleResponse);
  }

  function handleResponse(response) {
    if (response.messages.resultCode === "Error") {
      let errorText = response.messages.message.map(msg => msg.text).join("\n");
      alert("Tokenization Failed:\n" + errorText);
    } else {
      const opaqueData = response.opaqueData;

      // âœ… You got a secure payment token!
      console.log("Payment token:", opaqueData.dataValue);

      // TODO: Send token and other form data to your backend to charge the card
      // Example:
      /*
      fetch("https://your-backend.com/process-payment", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          amount: document.getElementById("amount").value,
          token: opaqueData.dataValue
        })
      })
      .then(res => res.json())
      .then(data => {
        alert("Payment successful!");
      })
      .catch(err => {
        alert("Payment failed: " + err.message);
      });
      */

      alert("Payment token generated. Send it to your backend.");
    }
  }
</script>